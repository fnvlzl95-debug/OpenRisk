/**
 * 강한 해석 문장 템플릿
 *
 * 핵심 구조: [관측] → [구조 해석] → [실패 메커니즘]
 *
 * 금지어: "기회", "전략", "해보세요", "좋아요"
 * 필수어: "고정비", "공백", "변동성", "압박", "취약"
 *
 * 톤 레벨:
 * - caution: 기본 경고 (~일 수 있음)
 * - warning: 강한 경고 (~일 수 있음 + 고정비/공백/변동성)
 * - critical: 레드 플래그 (구조상 ~이 반복될 수 있음)
 */

import type { Template } from './conditions'
import type { BusinessCategory } from '../../categories'

// 업종 템플릿 키 타입
export type CategoryKey = BusinessCategory

// 업종별 템플릿 구조
export interface CategoryTemplateSet {
  competition: { high: string[]; low: string[] }
  traffic: { high: string[]; low: string[] }
  anchor: { near: string[]; far: string[] }
  general: string[]
}

// ===== 경쟁 관련 템플릿 (3단 구조) =====

export const competitionTemplates: Template[] = [
  // 경쟁 0개 - 수요 검증 부재
  {
    id: 'comp_zero',
    conditions: { competition: 'low' },
    phrases: [
      '동일업종 0개는 경쟁이 없다는 의미가 아니라 수요 검증 데이터가 부족한 신호일 수 있음 → 예상 수요가 빗나가면 초기 고정비를 회수하기 전에 손익이 무너질 수 있음',
      '${categoryName}이 없다는 건 시장 검증이 안 된 상태일 수 있음 → 수요가 약하면 고정비를 버티기 전에 체력이 먼저 소진될 수 있음',
    ],
    tone: 'warning',
  },
  // 경쟁 높음 + 유동 높음 (체력전)
  {
    id: 'comp_high_traffic_high',
    conditions: { competition: 'high', traffic: 'high' },
    phrases: [
      '${sameCategory}개 업체가 같은 손님을 두고 경쟁 중 → 차별점 없이 진입하면 기존 점포에 매출을 뺏기며 고정비만 소진될 수 있음',
      '유동은 많지만 ${sameCategory}개가 나눠 가지는 구조 → 확실한 차별점 없으면 체력전에서 밀려날 수 있음',
    ],
    tone: 'warning',
  },
  // 경쟁 높음 + 유동 낮음 (최악)
  {
    id: 'comp_high_traffic_low',
    conditions: { competition: 'high', traffic: 'low' },
    phrases: [
      '경쟁은 치열한데 유동인구는 적은 구조 → 손님 확보 경쟁에서 지면 고정비가 바로 압박으로 작용할 수 있음',
      '${sameCategory}개나 있는데 지나다니는 사람이 적음 → 파이가 작아 신규 진입자가 생존하기 어려운 구조',
    ],
    tone: 'critical',
  },
  // 경쟁 높음 + 유동 보통
  {
    id: 'comp_high_traffic_medium',
    conditions: { competition: 'high', traffic: 'medium' },
    phrases: [
      '${sameCategory}개 업체가 경쟁 중이고 유동은 보통 수준 → 평범하면 기존 점포에 묻혀 매출 공백이 생길 수 있음',
      '포화 진입 상태에서 유동이 보통이면 → 후발 진입자가 고객 확보에 실패할 확률이 높음',
    ],
    tone: 'warning',
  },
  // 경쟁 낮음 + 유동 높음 (함정 주의)
  {
    id: 'comp_low_traffic_high',
    conditions: { competition: 'low', traffic: 'high' },
    phrases: [
      '유동 대비 경쟁이 적은 건 수요가 없어서일 수 있음 → 이 업종 수요가 실제로 있는지 현장 확인 없이 진입하면 위험함',
      '경쟁이 적다고 안심하기 어려움, 왜 아무도 안 들어왔는지가 중요함 → 수요 부재로 선행 업체가 철수했을 가능성 있음',
    ],
    tone: 'warning',
  },
  // 경쟁 낮음 + 유동 낮음
  {
    id: 'comp_low_traffic_low',
    conditions: { competition: 'low', traffic: 'low' },
    phrases: [
      '경쟁도 유동도 적은 구조 → 배후 주거 수요에 의존해야 하며, 단골 확보 실패 시 매출 공백이 구조적으로 발생함',
      '조용한 동네지만 그만큼 유입이 제한됨 → 배달 의존 없이는 고정비를 감당하기 어려울 수 있음',
    ],
    tone: 'warning',
  },
  // 경쟁 보통
  {
    id: 'comp_medium',
    conditions: { competition: 'medium' },
    phrases: [
      '적정 경쟁 수준이나 시장이 검증된 만큼 진입 장벽도 있음 → 차별화 없이 들어가면 기존 단골 구조에 밀릴 수 있음',
      '경쟁 과열은 아니지만 안심할 수준도 아님 → 가격·서비스 경쟁력 없으면 점진적으로 매출이 빠질 수 있음',
    ],
    tone: 'caution',
  },
]

// ===== 유동인구 관련 템플릿 (3단 구조) =====

export const trafficTemplates: Template[] = [
  // 유동 낮음 (추정)
  {
    id: 'traffic_low',
    conditions: { traffic: 'low' },
    phrases: [
      '유동인구가 적은 구조 → 워킹 유입만으로는 매출이 채워지지 않을 수 있음 → 목적형 방문이 안 잡히면 매출 공백이 구조적으로 발생함',
      '지나다니는 사람이 많지 않음 → 배달/예약 의존 없이는 고정비를 감당하기 어려울 수 있음',
    ],
    tone: 'warning',
  },
  // 유동 높음 + 저녁 피크
  {
    id: 'traffic_high_night',
    conditions: { traffic: 'high', peakTime: 'night' },
    phrases: [
      '저녁~밤 유동이 집중됨 → 낮 시간대 매출 공백이 생길 수 있음 → 오전~점심 고정비를 저녁 매출로 상쇄해야 하는 구조',
      '야간형 상권이라 저녁 이후에 손님이 몰림 → 낮 장사가 약하면 인건비 효율이 떨어질 수 있음',
    ],
    tone: 'caution',
  },
  // 유동 높음 + 아침 피크
  {
    id: 'traffic_high_morning',
    conditions: { traffic: 'high', peakTime: 'morning' },
    phrases: [
      '아침 출근길 유동이 집중됨 → 점심 이후 유입이 급감할 수 있음 → 오후 매출 공백을 어떻게 채울지가 과제',
      '출근 시간대 피크라 빠른 회전이 필수 → 서비스 속도가 떨어지면 손님이 다른 곳으로 이탈할 수 있음',
    ],
    tone: 'caution',
  },
  // 유동 높음 (일반)
  {
    id: 'traffic_high',
    conditions: { traffic: 'high' },
    phrases: [
      '유동은 충분하나 그 사람들이 내 가게에 들어올 이유가 필요함 → 전환율이 낮으면 유동 대비 실매출이 기대에 못 미칠 수 있음',
      '지나다니는 사람은 많지만 경쟁도 치열할 가능성이 높음 → 눈에 띄지 않으면 그냥 지나칠 수 있음',
    ],
    tone: 'caution',
  },
  // 유동 보통 + 역 멀음
  {
    id: 'traffic_medium_far',
    conditions: { traffic: 'medium' },
    phrases: [
      '유동이 보통 수준이고 역세권이 아니면 자체 집객력이 필요함 → 간판 가시성이나 SNS 마케팅 없이는 유입이 정체될 수 있음',
      '워킹 유입에 의존하기 어려운 위치 → 목적형 방문을 만들지 못하면 매출이 구조적으로 약해질 수 있음',
    ],
    tone: 'warning',
  },
]

// ===== 임대료 관련 템플릿 (3단 구조) =====

export const costTemplates: Template[] = [
  // 임대료 높음 + 상업지
  {
    id: 'cost_high_commercial',
    conditions: { cost: 'high', areaType: 'C_상업' },
    phrases: [
      '평당 ${avgRent}만원대, 10평 기준 월 ${rentMonthly10}만원 이상 고정비 발생 → 고정비가 높아 손익분기점이 올라가는 구조 → 매출 변동 시 고정비가 먼저 압박으로 작용해 버티기 어려울 수 있음',
      '상업지라 임대료가 높음 → 매일 일정 매출을 확보해야 본전인 구조 → 비수기나 매출 부진 시 현금흐름이 바로 막힐 수 있음',
    ],
    tone: 'critical',
  },
  // 임대료 높음 (일반)
  {
    id: 'cost_high',
    conditions: { cost: 'high' },
    phrases: [
      '평당 ${avgRent}만원으로 고정비 부담이 큰 구조 → 매출이 기대치를 밑돌면 고정비 비중이 빠르게 올라감 → 손익분기 달성 전에 자금이 소진될 수 있음',
      '임대료가 높아 월 고정비가 ${rentMonthly10}만원(10평) 이상 → 하루 최소 ${Math.round(rentMonthly10/30)}만원 이상 벌어야 임대료만 충당됨',
    ],
    tone: 'warning',
  },
  // 임대료 보통
  {
    id: 'cost_medium',
    conditions: { cost: 'medium' },
    phrases: [
      '임대료는 평균 수준이나 매출 확보가 관건 → 매출이 기대치를 밑돌면 고정비 비중이 빠르게 올라갈 수 있음',
      '고정비 부담은 적정 수준 → 단, 경쟁·유동 상황에 따라 수익성이 크게 달라질 수 있음',
    ],
    tone: 'caution',
  },
  // 임대료 낮음 + 유동 낮음 (함정)
  {
    id: 'cost_low_traffic_low',
    conditions: { cost: 'low', traffic: 'low' },
    phrases: [
      '임대료가 낮은 이유가 수요 부족일 수 있음 → 저렴한 임대료가 낮은 매출로 상쇄되면 수익 구조가 취약해짐',
      '비용이 낮아 보이지만 매출도 같이 낮을 가능성 있음 → 고정비를 낮춰도 수익이 안 나면 의미 없음',
    ],
    tone: 'warning',
  },
  // 임대료 낮음 (일반)
  {
    id: 'cost_low',
    conditions: { cost: 'low' },
    phrases: [
      '임대료가 낮아 고정비 부담이 적은 편 → 단, 임대료가 낮은 원인(수요/접근성)을 확인해야 함 → 싼 데는 이유가 있을 수 있음',
      '초기 고정비 부담은 적으나 → 왜 저렴한지 확인 없이 들어가면 수요 부족으로 고생할 수 있음',
    ],
    tone: 'caution',
  },
]

// ===== 생존율 관련 템플릿 (3단 구조) =====

export const survivalTemplates: Template[] = [
  // 폐업률 높음 + 순증감 음수 (레드 플래그)
  {
    id: 'survival_critical',
    conditions: { survival: 'high' },
    phrases: [
      '폐업률이 높고 순증감이 음수면 점포 생태계가 축소 국면일 수 있음 → 업종 교체와 공실이 반복되면 상권 안정성이 구조적으로 흔들림 → 회복에 시간이 오래 걸릴 수 있음',
      '신규 진입보다 이탈이 앞서는 구조 → 경쟁에서 탈락하면 회복 없이 손실이 누적됨 → 상권 자체가 줄어드는 시장에서 버티기가 어려움',
    ],
    tone: 'critical',
  },
  // 폐업률 높음 (일반)
  {
    id: 'survival_high',
    conditions: { survival: 'high' },
    phrases: [
      '폐업률이 평균보다 높은 구간 → 운영 난이도가 있어 탈락 시 회복이 어려움 → 체력전에서 밀리면 고정비가 누적 손실로 전환됨',
      '많이 문 닫는 지역이라 경쟁 탈락 확률이 높음 → 확실한 준비 없이 들어가면 고정비만 쓰다 나올 수 있음',
    ],
    tone: 'warning',
  },
  // 폐업률 보통
  {
    id: 'survival_medium',
    conditions: { survival: 'medium' },
    phrases: [
      '폐업률은 평균 수준이나 방심은 금물 → 경쟁에서 뒤처지면 언제든 폐업 대열에 합류할 수 있음',
      '점포 증감이 크지 않은 상권 → 안정적이라기보다 정체된 시장일 수 있음 → 성장 여력이 제한적',
    ],
    tone: 'caution',
  },
  // 폐업률 낮음 (함정 있음)
  {
    id: 'survival_low',
    conditions: { survival: 'low' },
    phrases: [
      '폐업률이 낮아 상권이 안정적인 편 → 단, 기존 업체들이 자리를 굳히고 있어 신규 진입 시 단골 확보가 어려울 수 있음',
      '오래 버티는 가게가 많음 → 단골 문화가 형성된 시장이라 후발 주자가 고객을 뺏기 쉽지 않음',
    ],
    tone: 'caution',
  },
]

// ===== 앵커 시설 관련 템플릿 (3단 구조) =====

export const anchorTemplates: Template[] = [
  // 역세권 가까움 (300m 이내)
  {
    id: 'anchor_subway_near',
    conditions: { hasSubway: true },
    phrases: [
      '${subwayName} ${subwayDistance}m로 역세권 입지 → 유입은 안정적이나 그만큼 임대료와 경쟁도 높음 → 역세권 프리미엄이 고정비로 전환되면 마진이 압축될 수 있음',
      '역에서 가까워 유동은 확보됨 → 단, 역세권은 경쟁이 치열하고 권리금도 높음 → 유입이 좋아도 비용도 같이 높아 순이익이 기대에 못 미칠 수 있음',
    ],
    tone: 'caution',
  },
  // 역 보통 거리 (300~500m)
  {
    id: 'anchor_subway_medium',
    conditions: { hasSubway: true },
    phrases: [
      '${subwayName} ${subwayDistance}m로 도보권이나 역 바로 앞 대비 유입이 분산됨 → 역 주변 경쟁 점포에 1차 유입을 뺏길 수 있음',
      '역에서 살짝 떨어진 위치 → 역 바로 앞에서 손님을 먼저 잡아가는 구조 → 자체 매력이 없으면 "굳이 여기까지" 오지 않을 수 있음',
    ],
    tone: 'warning',
  },
  // 역 멀음 (500m 초과)
  {
    id: 'anchor_subway_far',
    conditions: { hasSubway: true },
    phrases: [
      '${subwayName}이 ${subwayDistance}m로 역세권 유입에 의존하기 어려운 거리 → 목적형 방문을 만들지 못하면 유입이 구조적으로 약해짐',
      '역이 멀어 워킹 유입이 제한됨 → 자체 집객력(브랜드/마케팅) 없이는 신규 유입이 정체될 수 있음',
    ],
    tone: 'warning',
  },
  // 앵커 없음
  {
    id: 'anchor_none',
    conditions: { hasSubway: false },
    phrases: [
      '주변에 주요 유입 시설이 없음 → 자체 집객력에 전적으로 의존하는 구조 → 브랜드력이나 마케팅 없이는 신규 유입이 정체될 수 있음',
      '역, 대형마트 등 앵커가 없어 목적형 방문에 의존해야 함 → 워킹 유입이 약하면 배달/예약제로 보완해야 하는 구조',
    ],
    tone: 'warning',
  },
]

// ===== 상권 유형 관련 템플릿 (3단 구조) =====

export const areaTypeTemplates: Template[] = [
  {
    id: 'area_residential',
    conditions: { areaType: 'A_주거' },
    phrases: [
      '주거 중심 상권으로 단골 위주 안정적 운영이 가능함 → 단, 신규 유입이 제한적이라 단골 이탈 시 대체 고객 확보가 어려울 수 있음',
      '동네 상권이라 워킹 유입보다 배후 주민 수요에 의존 → 주민층과 맞지 않는 업종이면 수요 자체가 없을 수 있음',
    ],
    tone: 'caution',
  },
  {
    id: 'area_commercial',
    conditions: { areaType: 'C_상업' },
    phrases: [
      '상업 중심지라 유입은 많지만 경쟁과 임대료도 높은 구조 → 매출이 높아도 비용도 높아 순이익이 기대에 못 미칠 수 있음',
      '상권이 활발한 만큼 트렌드 변화도 빠름 → 뒤처지면 빠르게 도태될 수 있고, 따라가려면 지속적인 투자가 필요함',
    ],
    tone: 'warning',
  },
  {
    id: 'area_mixed',
    conditions: { areaType: 'B_혼합' },
    phrases: [
      '직주 혼합 지역으로 시간대별 고객층이 다름 → 타겟을 명확히 못 잡으면 양쪽 수요를 다 놓칠 수 있음',
      '아침/점심/저녁 수요층이 달라 운영 복잡도가 올라감 → 한 시간대에 집중하면 나머지 시간대 매출 공백이 생김',
    ],
    tone: 'caution',
  },
  {
    id: 'area_special',
    conditions: { areaType: 'D_특수' },
    phrases: [
      '특수 상권으로 시즌/이벤트 의존도가 높음 → 비수기 매출 공백이 크면 연간 수익 변동성이 커짐',
      '평일과 주말, 시즌별 차이가 큰 구조 → 피크 시즌에 벌어서 비수기를 버텨야 하는데 계산이 틀리면 현금흐름이 막힐 수 있음',
    ],
    tone: 'warning',
  },
]

// ===== 조합 템플릿 (나쁜 조합 = 레드 플래그) =====

export const combinationTemplates: Template[] = [
  // 최악 조합: 경쟁 높음 + 임대료 높음 + 유동 낮음
  {
    id: 'worst_combination',
    conditions: { competition: 'high', cost: 'high', traffic: 'low' },
    phrases: [
      '경쟁은 치열한데 유동인구는 적고 임대료까지 높은 구조 → 매출은 나눠 가지는데 고정비는 혼자 감당해야 함 → 구조적으로 손익이 맞기 어려운 조건, 다른 입지와 비교 필요',
      '${sameCategory}개 업체가 경쟁 중인데 손님도 적고 비용도 높음 → 파이가 작은데 비용은 큰 구조라 신규 진입자가 생존하기 매우 어려움',
    ],
    tone: 'critical',
  },
  // 고비용 고경쟁
  {
    id: 'high_cost_high_comp',
    conditions: { competition: 'high', cost: 'high' },
    phrases: [
      '경쟁이 치열하고 임대료도 높은 이중 부담 구조 → 경쟁에서 이겨도 고정비에 이익을 뺏기는 구조 → 매출을 올려도 순이익이 기대에 못 미칠 수 있음',
      '비용도 높고 경쟁자도 많음 → 손익분기점 달성 자체가 쉽지 않은 구조',
    ],
    tone: 'critical',
  },
  // 고폐업률 + 고임대료
  {
    id: 'high_closure_high_cost',
    conditions: { survival: 'high', cost: 'high' },
    phrases: [
      '폐업률이 높고 임대료도 높은 구조 → 이미 많이 망하는 곳인데 비용 부담까지 큼 → 버티다 지치면 손실이 빠르게 누적됨',
      '생존율이 낮은데 고정비까지 높음 → 탈락 시 회수 기간 없이 손실로 직행하는 구조',
    ],
    tone: 'critical',
  },
  // 유동 낮음 + 앵커 없음
  {
    id: 'low_traffic_no_anchor',
    conditions: { traffic: 'low', hasSubway: false },
    phrases: [
      '유동도 적고 앵커 시설도 없는 구조 → 자체 집객력이 없으면 매출 자체가 발생하기 어려움 → 배달 100% 의존 아니면 버티기 힘든 구조',
      '워킹 유입도, 역세권 유입도 기대하기 어려움 → 목적형 방문을 만들지 못하면 고정비만 나가는 상황이 됨',
    ],
    tone: 'critical',
  },
]

// ===== 업종별 특화 템플릿 (3단 구조) =====

export const categoryTemplates: Partial<Record<CategoryKey, CategoryTemplateSet>> = {
  // ===== 카페/베이커리 =====
  cafe: {
    competition: {
      high: [
        '카페 ${sameCategory}개로 포화 상태 → 커피 맛만으로는 차별화가 안 됨 → 공간/경험을 못 팔면 기존 단골 카페에 밀려 매출이 정체될 수 있음',
        '카페 경쟁이 치열함 → 진입장벽이 낮아 계속 새로 들어옴 → 트렌드 변화에 뒤처지면 빠르게 도태될 수 있음',
      ],
      low: [
        '카페가 적은 건 수요가 없어서일 수 있음 → 이 동네에 카페 수요가 있는지 현장 확인 필수 → 수요 없는 곳에서 선점해봤자 의미 없음',
      ],
    },
    traffic: {
      high: [
        '유동이 많지만 카페도 많을 가능성 높음 → 눈에 띄지 않으면 그냥 지나침 → 외관/간판 투자 없이는 전환율이 낮을 수 있음',
      ],
      low: [
        '유동이 적어 워킹 유입이 약함 → 단골 확보 실패 시 매출 공백이 구조적으로 발생 → 동네 카페로 자리 못 잡으면 버티기 어려움',
      ],
    },
    anchor: {
      near: ['역 근처라 테이크아웃 수요는 있으나 → 역세권 카페 경쟁도 치열함 → 빠른 서비스 없으면 다른 카페에 뺏김'],
      far: ['역에서 멀어 워킹 유입 기대 어려움 → 분위기/메뉴로 목적형 방문을 만들어야 함 → SNS 마케팅 없으면 인지도 확보가 어려움'],
    },
    general: [
      '카페는 진입장벽이 낮아 경쟁이 심함 → 3년 생존율이 낮은 업종 → 차별화 포인트 없이 시작하면 고정비만 쓰다 나올 수 있음',
    ],
  },

  bakery: {
    competition: {
      high: [
        '빵집 ${sameCategory}개 밀집 → 동네 빵집 포화 상태 → 가격 인하 압박과 폐기 손실이 동시에 발생할 수 있음',
        '베이커리 ${sameCategory}개 경쟁 중 → 고객 분산 구조 → 매출 공백이 발생하면 고정비(새벽 인건비)를 감당하기 어려움',
      ],
      low: [
        '빵집이 적음 → 수요가 적어서일 가능성 → 배후 인구 규모 확인 필요',
        '베이커리 공백 지역 → 수요 부족 신호일 수 있음 → 주변 소비력 검증 없이 진입 시 고정비 압박',
      ],
    },
    traffic: {
      high: ['유동인구 많음 → 그러나 베이커리는 충동구매보다 목적 방문 비중이 높음 → 유동만으로 안정 매출 담보하기 어려움'],
      low: ['유동인구 적음 → 출근길 빵 수요 확보 어려움 → 단골 의존 구조인데 신규 진입자에게 불리함'],
    },
    anchor: {
      near: ['역 근처 → 임대료가 높은 구조 → 새벽 생산 인건비까지 더하면 고정비 부담이 큼'],
      far: ['역과 멀어 유입 동선 취약 → 맛으로 입소문 나기 전까지 매출 공백 기간이 길 수 있음'],
    },
    general: ['베이커리는 새벽 작업 필수 → 인건비·체력 소모 큼 → 폐기 손실까지 더하면 마진 압박이 심한 업종'],
  },

  dessert: {
    competition: {
      high: [
        '디저트 ${sameCategory}개 경쟁 중 → 트렌드 주기가 짧은 업종 → 유행 지나면 고객 이탈 속도가 빠름',
        '디저트 가게 밀집 → 충동구매 특성상 고객 분산 심함 → 안정 매출 확보가 구조적으로 어려움',
      ],
      low: ['디저트 가게가 적음 → 수요가 없어서일 가능성 → 유동인구 연령층 확인 필요'],
    },
    traffic: {
      high: ['유동 많음 → 그러나 디저트는 충동구매 비중 높음 → 객단가 낮아 회전 의존 구조, 임대료 높으면 수익성 취약'],
      low: ['유동 적음 → 디저트 충동구매 수요 부족 → 목적형 방문을 만들 SNS 마케팅 비용이 추가 고정비로 작용'],
    },
    anchor: {
      near: ['역세권 → 젊은 유동은 있지만 경쟁도 치열 → 트렌드 바뀌면 고객 이탈이 빠름'],
      far: ['역과 멀어 충동 방문 어려움 → SNS 바이럴 없으면 인지 자체가 안 됨 → 마케팅 비용 부담'],
    },
    general: ['디저트는 트렌드 수명 6개월~1년 → 메뉴 개발 비용이 지속 발생 → 유행 놓치면 매출 급락'],
  },

  // ===== 음식점 =====
  restaurant_korean: {
    competition: {
      high: [
        '한식당 ${sameCategory}개 밀집 → 가격 경쟁 구조화 → 객단가 낮추면 마진 압박, 유지하면 손님 이탈',
        '한식은 진입장벽 낮은 업종 → ${sameCategory}개 경쟁 중 → 식재료·인건비 상승 시 버틸 여력 없음',
      ],
      low: ['한식당 적음 → 수요 부족 지역일 가능성 → 배후 인구 규모와 연령층 확인 필요'],
    },
    traffic: {
      high: ['유동 많음 → 점심 회전 의존 구조 → 객단가 낮고 피크 시간 짧아 일매출 변동성 큼'],
      low: ['유동 적음 → 홀 매출 기대 어려움 → 배달 의존하면 수수료로 마진 압박'],
    },
    anchor: {
      near: ['역/오피스 근처 → 점심 특선 경쟁 치열 → 가격 낮추면 마진 없고 높이면 손님 없음'],
      far: ['유입 동선 취약 → 단골 의존 구조 → 신규 진입자에게 기존 단골이 없어 초기 매출 공백'],
    },
    general: ['한식은 손이 많이 감 → 인건비 비중 높음 → 식재료비까지 오르면 마진이 거의 안 남는 구조'],
  },

  restaurant_western: {
    competition: {
      high: ['양식당 경쟁 있음 → 분위기 투자 필요 → 초기 투자금 회수 전 경쟁 심화되면 손실'],
      low: ['양식당 적음 → 고객층이 맞는지 확인 필요 → 객단가 높은 업종이라 수요 없으면 공백 큼'],
    },
    traffic: {
      high: ['유동 많음 → 그러나 양식은 목적형 방문 → 단순 유동이 매출로 전환되지 않을 수 있음'],
      low: ['유동 적음 → 모임/데이트 수요 의존 → 예약 없으면 공석 비용이 발생하는 구조'],
    },
    anchor: {
      near: ['역 근처 → 임대료 높음 → 양식 객단가로 감당해야 하는데 회전이 낮아 부담'],
      far: ['접근성 낮음 → 입소문 나기 전까지 긴 매출 공백 → 초기 투자금 회수 어려움'],
    },
    general: ['양식은 객단가 높지만 회전 낮음 → 분위기 투자 필요 → 고정비 구조가 무거운 업종'],
  },

  restaurant_japanese: {
    competition: {
      high: ['일식당 ${sameCategory}개 경쟁 → 식재료비 비중 높은 업종 → 가격 경쟁하면 품질 하락, 품질 유지하면 마진 압박'],
      low: ['일식당 적음 → 수요 검증 필요 → 고급 일식 수요층이 있는 동네인지 확인'],
    },
    traffic: {
      high: ['유동 많음 → 점심 회전 가능 → 그러나 일식 객단가 유지하려면 저녁 매출이 핵심'],
      low: ['유동 적음 → 점심 회전 어려움 → 저녁 술자리 의존하는데 입지가 안 좋으면 선택받기 어려움'],
    },
    anchor: {
      near: ['역 근처 → 퇴근 후 수요 있지만 경쟁도 치열 → 식재료비 높은데 가격 올리기 어려움'],
      far: ['역과 멀어 퇴근 동선에서 벗어남 → 일부러 찾아올 맛집이 아니면 공백'],
    },
    general: ['일식은 식재료비 30-40% → 원가 부담 큼 → 객단가 낮추면 품질 하락, 품질 유지하면 마진 압박'],
  },

  restaurant_chinese: {
    competition: {
      high: ['중식당 ${sameCategory}개 경쟁 → 배달앱 순위 경쟁 → 광고비 쓰면 마진 없고 안 쓰면 노출 안 됨'],
      low: ['중식당 적음 → 배달 수요 있는지 확인 필요 → 배달 반경 내 가구 수가 핵심'],
    },
    traffic: {
      high: ['유동 많음 → 점심 홀 수요 있음 → 그러나 저녁·야식은 배달 경쟁에 노출'],
      low: ['유동 적음 → 배달 100% 의존 구조 → 배달앱 수수료로 마진 20% 이상 빠짐'],
    },
    anchor: {
      near: ['오피스 근처 → 점심 수요 있음 → 그러나 저녁에는 빠지는 상권이라 매출 공백'],
      far: ['배달 의존 → 배달앱 순위에 매출이 좌우됨 → 광고비 경쟁에 빠지면 수익성 악화'],
    },
    general: ['중식은 배달 비중 높음 → 배달앱 수수료 부담 → 홀 매출 없으면 마진이 거의 안 남음'],
  },

  restaurant_chicken: {
    competition: {
      high: [
        '치킨집 ${sameCategory}개 밀집 → 한국에서 가장 포화된 업종 → 프랜차이즈 간 가격 경쟁으로 마진 구조가 박함',
        '치킨은 창업 1위 업종 → ${sameCategory}개 경쟁 → 배달앱 광고비 쓰면 마진 없고 안 쓰면 주문 안 들어옴',
      ],
      low: ['치킨집 적음 → 매우 드문 경우 → 수요가 없는 특수 지역일 가능성 있음'],
    },
    traffic: {
      high: ['유동 많음 → 홀 치맥 수요 → 그러나 저녁에 집중되어 낮 시간대 고정비 공백'],
      low: ['유동 적음 → 배달 100% 의존 → 배달앱 수수료+광고비로 마진의 40%가 빠짐'],
    },
    anchor: {
      near: ['역 근처 → 치맥 수요 있지만 임대료도 높음 → 프랜차이즈 로열티까지 더하면 남는 게 없음'],
      far: ['배달 반경 싸움 → 배민 순위가 매출의 70% 결정 → 광고비 경쟁에서 밀리면 끝'],
    },
    general: ['치킨은 마진이 15-20% 수준 → 본사 로열티, 배달 수수료 빼면 순익이 거의 없는 구조'],
  },

  restaurant_pizza: {
    competition: {
      high: ['피자 경쟁 있음 → 대형 프랜차이즈가 장악한 시장 → 개인 피자집 생존이 구조적으로 어려움'],
      low: ['피자집 적음 → 배달 반경 내 수요 확인 필요 → 가구 수 적으면 주문량 부족'],
    },
    traffic: {
      high: ['유동 많음 → 테이크아웃 가능 → 그러나 피자는 배달 비중 70% 이상, 홀 매출 기대 어려움'],
      low: ['유동 적음 → 배달 의존 → 배달앱 경쟁에서 대형 브랜드에 밀림'],
    },
    anchor: {
      near: ['오피스 근처 → 점심 수요는 적음 → 피자는 저녁·야식 위주라 낮 시간대 공백'],
      far: ['배달 의존 → 배달 반경 내 가구 수가 매출 상한선 → 대형 브랜드와 광고비 경쟁'],
    },
    general: ['피자는 저녁-야식 수요 → 점심 매출 공백 → 낮 시간대 고정비가 그대로 나감'],
  },

  restaurant_fastfood: {
    competition: {
      high: ['패스트푸드 경쟁 있음 → 대형 브랜드 vs 개인 창업 → 브랜드 파워 없으면 선택받기 어려움'],
      low: ['패스트푸드 적음 → 빠른 한 끼 수요가 있는지 확인 필요 → 유동인구 적으면 회전 안 됨'],
    },
    traffic: {
      high: ['유동 많음 → 회전이 생명 → 그러나 객단가 낮아서 임대료 높으면 수익성 취약'],
      low: ['유동 적음 → 패스트푸드 핵심 수요 없음 → 회전이 안 되면 남는 게 없는 업종'],
    },
    anchor: {
      near: ['역 앞 → 빠른 한 끼 수요 있음 → 그러나 임대료 대비 객단가 낮아 박리다매 구조'],
      far: ['역과 멀어 빠른 이동 수요 놓침 → 패스트푸드 특성상 접근성이 핵심인데 불리'],
    },
    general: ['패스트푸드는 객단가 낮음 → 회전으로 승부 → 유동 없으면 구조적으로 안 맞는 업종'],
  },

  // ===== 주점 =====
  bar: {
    competition: {
      high: ['술집 ${sameCategory}개 밀집 → 야간 상권은 분위기 경쟁 → 인테리어 투자 회수 전 트렌드 바뀌면 손실'],
      low: ['술집 적음 → 야간 수요가 있는지 확인 필요 → 주거 밀집 지역은 소음 민원으로 영업 제한될 수 있음'],
    },
    traffic: {
      high: ['저녁 유동 많음 → 술집 수요 있음 → 그러나 야간 상권은 임대료·인건비 모두 높아 마진 압박'],
      low: ['유동 적음 → 단골 의존 구조 → 신규 진입자에게 단골이 없어 초기 매출 공백이 길 수 있음'],
    },
    anchor: {
      near: ['역세권 → 퇴근 후 술자리 수요 → 그러나 경쟁도 치열하고 임대료 부담 큼'],
      far: ['역과 멀어 유입 동선 취약 → 분위기로 일부러 찾아올 곳 아니면 공백'],
    },
    general: ['술집은 야간 영업 → 체력 소모 큼 + 야간 인건비 할증 → 고정비 구조가 무거운 업종'],
  },

  // ===== 소매 =====
  convenience: {
    competition: {
      high: ['편의점 ${sameCategory}개 밀집 → 본사 영업권 침해 가능성 → 나중에 바로 옆에 같은 브랜드 오픈될 수 있음'],
      low: ['편의점 적음 → 그만큼 유동이 적다는 의미일 수 있음 → 24시간 인건비 대비 매출 나올지 확인 필요'],
    },
    traffic: {
      high: ['유동 많음 → 편의점 매출 구조상 유리 → 그러나 본사 수익 배분 구조상 순익이 제한적'],
      low: ['유동 적음 → 주거 배후 의존 → 24시간 운영해도 야간 매출 거의 없으면 인건비만 나감'],
    },
    anchor: {
      near: ['역 근처 → 출퇴근 수요 → 그러나 임대료 높고 본사 배분 구조상 남는 게 적음'],
      far: ['역과 멀어 이동 수요 못 잡음 → 24시간 운영 인건비 대비 매출이 맞는지 계산 필요'],
    },
    general: ['편의점은 본사가 수익 40-50% 가져감 → 매출이 나와도 순익이 월 200-300만원대인 경우 많음'],
  },

  mart: {
    competition: {
      high: ['슈퍼마켓 경쟁 있음 → 대형마트·편의점과 동시 경쟁 → 가격으로 못 이기고 편의성으로도 못 이김'],
      low: ['슈퍼마켓 적음 → 배후 인구 확인 필요 → 주거 배후 없으면 동네 슈퍼 수요 자체가 없음'],
    },
    traffic: {
      high: ['유동 많음 → 그러나 슈퍼마켓은 동네 주민 수요 → 유동인구가 매출로 전환되지 않음'],
      low: ['유동 적음 → 단골 의존 구조 → 신규 진입자에게 기존 단골이 없어 초기 공백'],
    },
    anchor: {
      near: ['대형마트 근처 → 가격 경쟁에서 절대 못 이김 → 동네 슈퍼로서 존재 이유가 사라짐'],
      far: ['대형마트와 거리 있음 → 동네 슈퍼 수요 가능 → 그러나 마진율 10-15%로 박리다매'],
    },
    general: ['슈퍼마켓은 마진율 10-15% → 월 3000만원 팔아도 순익 300-400만원 → 인건비 빼면 거의 안 남음'],
  },

  // ===== 서비스 =====
  beauty: {
    competition: {
      high: ['미용실 ${sameCategory}개 밀집 → 기존 단골 기반 시장 → 신규 진입자가 단골 뺏어오기 어려운 구조'],
      low: ['미용실 적음 → 수요가 적거나 기존 업체가 시장 장악 → 신규 유입 여지 확인 필요'],
    },
    traffic: {
      high: ['유동 많음 → 그러나 미용실은 예약제 → 지나가다 들어오는 손님 거의 없음'],
      low: ['유동 적음 → 단골 의존 구조 → 단골 없이 시작하는 신규 진입자에게 불리'],
    },
    anchor: {
      near: ['역 근처 → 접근성 좋지만 임대료 부담 → 미용실 마진으로 감당할 수 있는지 확인'],
      far: ['역과 멀어 신규 손님 유입 어려움 → 실력으로 입소문 나기 전까지 매출 공백'],
    },
    general: ['미용실은 단골 의존 업종 → 기존 단골 없이 시작하면 최소 6개월~1년 공백 각오해야 함'],
  },

  nail: {
    competition: {
      high: ['네일샵 ${sameCategory}개 경쟁 → 가격 경쟁 심함 → 저가 출혈 경쟁하면 마진 거의 안 남음'],
      low: ['네일샵 적음 → 수요층 확인 필요 → 젊은 여성 유동이 적으면 수요 자체가 없음'],
    },
    traffic: {
      high: ['젊은 여성 유동 많음 → 충동 방문 가능 → 그러나 트렌드 빠르게 바뀌어 재방문 보장 안 됨'],
      low: ['유동 적음 → 예약제 의존 → 단골 없이 시작하면 초기 매출 공백'],
    },
    anchor: {
      near: ['쇼핑 동선에 위치 → 충동 방문 가능 → 그러나 임대료 대비 객단가 낮아 수익성 취약'],
      far: ['유입 동선 취약 → SNS 마케팅에 의존 → 광고비가 추가 고정비로 작용'],
    },
    general: ['네일샵은 트렌드 주기 짧음 → 디자인 역량 유지에 시간·비용 지속 투입 필요'],
  },

  laundry: {
    competition: {
      high: ['세탁소 경쟁 있음 → 이미 단골 확보된 시장 → 신규 진입자가 비집고 들어가기 어려움'],
      low: ['세탁소 적음 → 주거 배후 확인 필요 → 1인 가구 많으면 셀프빨래방에 수요 빼앗김'],
    },
    traffic: {
      high: ['유동 많음 → 그러나 세탁소는 동네 주민 수요 → 유동인구가 매출로 전환되지 않음'],
      low: ['유동 적음 → 주거 배후 의존 → 배후 인구 없으면 세탁물 자체가 없음'],
    },
    anchor: {
      near: ['역보다 아파트 근처가 중요 → 역세권은 임대료만 높고 실수요 없음'],
      far: ['주거 배후가 핵심 → 아파트 단지 근처가 아니면 수요 부족'],
    },
    general: ['세탁소는 마진 낮고 성장성 없음 → 안정적이지만 투자 대비 수익이 제한적인 업종'],
  },

  pharmacy: {
    competition: {
      high: ['약국 ${sameCategory}개 밀집 → 처방전 경쟁 치열 → 병원 없으면 처방전 수 자체가 적음'],
      low: ['약국 적음 → 면허 희소가치 → 그러나 병원가 아니면 매출 상한선 낮음'],
    },
    traffic: {
      high: ['유동 많음 → 그러나 약국은 병원 처방 수요 → 병원가 아니면 유동이 의미 없음'],
      low: ['유동 적음 → 동네 약국 수요 의존 → 처방전 없는 일반의약품만으로 매출 한계'],
    },
    anchor: {
      near: ['병원/클리닉 근처 → 처방전 수요 안정적 → 그러나 병원 이전하면 매출 급감'],
      far: ['병원가 아님 → 일반의약품 의존 → 처방전 없이 버티기 어려움'],
    },
    general: ['약국은 면허 진입장벽 있지만 → 병원 의존도 높아 입지가 매출의 80% 결정'],
  },

  // ===== 기타 =====
  gym: {
    competition: {
      high: ['헬스장 ${sameCategory}개 밀집 → 가격 경쟁 구조화 → 월 3-5만원 경쟁에서 시설 투자비 회수 어려움'],
      low: ['헬스장 적음 → 수요 검증 필요 → 주거 배후 인구 없으면 회원 모집 자체가 안 됨'],
    },
    traffic: {
      high: ['오피스 유동 많음 → 퇴근 후 운동 수요 → 그러나 대형 프랜차이즈와 경쟁해야 함'],
      low: ['유동 적음 → 주거 배후 회원 의존 → 배후 인구 없으면 회원 수 상한선 낮음'],
    },
    anchor: {
      near: ['역 근처 → 접근성 좋지만 임대료 높음 → 넓은 면적 필요한데 고정비 부담 큼'],
      far: ['역과 멀어 퇴근 동선에서 벗어남 → 동네 헬스장은 저가 경쟁에 노출'],
    },
    general: ['헬스장은 초기 투자 1-3억 → 월 3-5만원 회비로 회수하려면 최소 200명 이상 필요 → 이탈률 높은 업종'],
  },

  academy: {
    competition: {
      high: ['학원 ${sameCategory}개 밀집 → 학군/학부모 신뢰 이미 형성된 시장 → 신규 진입자가 파고들기 어려움'],
      low: ['학원 적음 → 학생 수요 확인 필요 → 학교/학원가 아니면 학생 자체가 없음'],
    },
    traffic: {
      high: ['유동 많음 → 그러나 학원은 학교 근처가 핵심 → 일반 유동은 의미 없음'],
      low: ['유동 적음 → 배후 학생 수가 핵심 → 학교/학원가 아니면 학생 유입 자체가 없음'],
    },
    anchor: {
      near: ['역보다 학교 근처가 핵심 → 역세권은 임대료만 높고 학생 동선 아님'],
      far: ['학교/학원가와 거리 있음 → 학부모가 일부러 보낼 만한 실력 증명 필요'],
    },
    general: ['학원은 입소문이 전부 → 결과 내기까지 최소 1년 → 그전까지 적자 각오'],
  },
}

// ===== 전체 템플릿 목록 =====

export const allTemplates: Template[] = [
  ...competitionTemplates,
  ...trafficTemplates,
  ...costTemplates,
  ...survivalTemplates,
  ...anchorTemplates,
  ...areaTypeTemplates,
  ...combinationTemplates,
]
