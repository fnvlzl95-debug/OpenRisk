/**
 * 등급별 해석 문구 렌더러
 *
 * 상권 등급에 따른 핵심 해석, 추천 액션, 리스크를 반환
 */

import { Grade } from '@/lib/types'

export interface GradeCopy {
  coreCopy: string[]
  actions: string[]
  risks: string[]
}

const GRADE_COPIES: Record<Grade, GradeCopy> = {
  A: {
    coreCopy: [
      '주거 중심 상권으로 유동인구 변동이 적습니다.',
      '단골 중심 소비 패턴이 관찰되는 구조입니다.',
      '임대료 변동성이 상대적으로 낮은 편입니다.'
    ],
    actions: [
      '주변 생활 밀착형 업종 구성 확인하기',
      '기존 단골 기반 업체들의 운영 기간 파악하기',
      '주민 소비 패턴과 니즈 사전 조사하기'
    ],
    risks: [
      '외부 유입이 적어 신규 고객 확보가 어려울 수 있음',
      '마케팅/광고 효과가 제한적일 수 있음',
      '업종 변경 시 기존 고객 이탈 가능성 있음'
    ]
  },
  B: {
    coreCopy: [
      '주거와 상업이 혼합된 복합 상권입니다.',
      '시간대에 따라 고객층이 달라지는 구조입니다.',
      '평일과 주말의 유동인구 패턴이 상이합니다.'
    ],
    actions: [
      '시간대별 유동인구 직접 확인하기 (오전/점심/저녁)',
      '주중과 주말 각각 임장해서 분위기 비교하기',
      '인근 업체들의 운영 시간대 패턴 파악하기'
    ],
    risks: [
      '타겟 고객층 설정이 모호하면 양쪽 모두 놓칠 수 있음',
      '시간대별 운영 전략이 필요해 복잡도가 높음',
      '주중/주말 매출 편차가 클 수 있음'
    ]
  },
  C: {
    coreCopy: [
      '유동인구가 많은 상업 중심 상권입니다.',
      '경쟁 업체가 많고 트렌드 변화가 빠른 구조입니다.',
      '임대료와 운영비용이 높은 편입니다.'
    ],
    actions: [
      '동일 업종 경쟁 업체 수와 생존 기간 파악하기',
      '최근 1년 내 개폐업 현황 조사하기',
      '최소 6개월 고정비 버틸 자금 여유 점검하기'
    ],
    risks: [
      '임대료·권리금이 높아 초기 비용 부담이 큼',
      '경쟁 과밀로 차별화 없으면 생존이 어려움',
      '트렌드 변화에 따라 매출 변동성이 큼'
    ]
  },
  D: {
    coreCopy: [
      '관광·이벤트 등 특수 목적 상권으로 분류됩니다.',
      '일반적인 상권 분석 기준이 적용되기 어렵습니다.',
      '시즌·외부 요인에 따른 변동성이 큽니다.'
    ],
    actions: [
      '해당 상권의 주요 집객 요인(관광지, 행사 등) 파악하기',
      '비수기·성수기 매출 차이 사례 조사하기',
      '유사 상권 경험자 인터뷰 시도하기'
    ],
    risks: [
      '시즌 의존도가 높아 비수기 매출 급감 가능',
      '외부 요인(정책, 환율 등)에 취약함',
      '일반 상권 대비 예측 불확실성이 높음'
    ]
  }
}

/**
 * 등급에 해당하는 해석 문구 반환
 */
export function getGradeCopy(grade: Grade): GradeCopy {
  return GRADE_COPIES[grade]
}

/**
 * 등급별 요약 한 줄 반환
 */
export function getGradeSummary(grade: Grade): string {
  const summaries: Record<Grade, string> = {
    A: '주거 중심 상권, 단골 의존도 높음',
    B: '직주 혼합 상권, 시간대별 고객층 상이',
    C: '상업 중심 상권, 경쟁 과밀·비용 높음',
    D: '특수 목적 상권, 시즌·외부요인 의존'
  }
  return summaries[grade]
}
