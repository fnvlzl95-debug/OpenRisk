# OpenRisk 정확도 개선 로드맵

> 최종 업데이트: 2025-01-04
> 버전: v2.1

---

## 1. 현재 상태 요약

### 1.1 지표별 정확도

| 지표 | 현재 정확도 | 목표 정확도 | 갭 |
|------|------------|------------|-----|
| 경쟁 밀도 | 80% | 90% | 10% |
| 유동인구 (서울) | 85% | 95% | 10% |
| 유동인구 (경기) | 55% | 85% | 30% |
| 임대료 | 40% | 75% | 35% |
| 생존율 | 80% | 90% | 10% |
| 앵커 시설 | 95% | 98% | 3% |

### 1.2 핵심 문제점

| 순위 | 문제 | 영향도 | 해결 난이도 |
|------|------|--------|------------|
| 1 | 경기 지하철 데이터 누락 | 상 | 하 |
| 2 | 임대료 구/동 평균만 제공 | 상 | 중 |
| 3 | 권리금 데이터 부재 | 상 | 상 |
| 4 | 실시간 유동인구 부재 | 중 | 상 |
| 5 | 업종 분류 오차 | 중 | 중 |

---

## 2. Phase 1: 즉시 개선 (1개월)

### 2.1 경기권 지하철 데이터 추가

**현재 상태:**
- 서울 지하철: ✅ 역 + 승하차
- 인천 지하철: △ 역 위치만
- 경기 지하철: ❌ 없음

**목표:**
- 경기권 지하철 역 위치 + 승하차 데이터 확보

**데이터 소스:**
| 노선 | 소스 | 데이터 형태 |
|------|------|------------|
| 경의중앙선 | 코레일 공공데이터 | CSV/API |
| 분당선 | 코레일 공공데이터 | CSV/API |
| 신분당선 | 신분당선(주) | 별도 요청 |
| 경춘선 | 코레일 공공데이터 | CSV/API |
| 수인선 | 코레일 공공데이터 | CSV/API |

**작업 내용:**
1. 코레일 공공데이터 포털에서 역별 승하차 데이터 다운로드
2. `data/subway/gyeonggi/` 폴더 생성
3. 역 위치 좌표 매핑 (stations.csv)
4. 승하차 데이터 정규화 (ridership.csv)
5. H3 그리드 맵핑 로직 적용

**예상 효과:**
- 경기권 유동인구 정확도: 55% → 80%

---

### 2.2 인천 지하철 승하차 데이터 추가

**현재 상태:**
- 인천 지하철: 역 위치만 있음, 승하차 없음

**목표:**
- 인천 지하철 승하차 데이터 확보

**데이터 소스:**
- 인천교통공사 열린데이터 (https://data.ictr.or.kr)
- 인천시 공공데이터포털

**작업 내용:**
1. 인천교통공사 승하차 데이터 요청/다운로드
2. `data/subway/incheon/ridership.csv` 생성
3. 기존 역 데이터와 조인

**예상 효과:**
- 인천 유동인구 정확도: 70% → 85%

---

### 2.3 데이터 갱신 자동화

**현재 상태:**
- 수동 갱신 (분기별)

**목표:**
- 반자동 갱신 스크립트

**작업 내용:**
1. 데이터 다운로드 스크립트 작성
2. Supabase 업로드 자동화
3. 갱신 로그 기록

```bash
# 예시 스크립트 구조
scripts/
├── download/
│   ├── subway.ts
│   ├── bus.ts
│   └── stores.ts
├── transform/
│   ├── normalize.ts
│   └── h3-mapping.ts
└── upload/
    └── supabase.ts
```

---

## 3. Phase 2: 중기 개선 (3개월)

### 3.1 임대료 정밀도 향상

**현재 상태:**
- 구/동 단위 평균만 제공
- 건물 유형, 층수, 대로변/골목 구분 없음

**목표:**
- 도로명 주소 단위 임대료 추정

**접근 방법 A: 부동산 매물 크롤링**

| 소스 | 장점 | 단점 |
|------|------|------|
| 네이버 부동산 | 매물 많음 | 크롤링 제한 |
| 직방 | API 존재 | 상업용 부족 |
| 다방 | 상업용 있음 | 데이터 품질 |

**작업 내용:**
1. 부동산 매물 데이터 수집 파이프라인
2. 주소 정규화 및 좌표 변환
3. 건물 유형별 보정 계수 산출
4. 층수/면적별 단가 모델링

**데이터 구조:**
```typescript
interface DetailedRent {
  address: string           // 도로명 주소
  lat: number
  lng: number
  rentPerPyeong: number     // 평당 임대료
  deposit: number           // 보증금
  premium: number           // 권리금 (추정)
  floor: string             // 지하/1층/2층+
  buildingType: string      // 신축/일반/노후
  roadType: string          // 대로변/이면도로/골목
  collectedAt: Date
}
```

**예상 효과:**
- 임대료 정확도: 40% → 65%

---

### 3.2 권리금 추정 모델

**현재 상태:**
- 권리금 데이터 없음
- 실제 창업 비용의 큰 부분 누락

**목표:**
- 업종별/지역별 권리금 추정치 제공

**접근 방법:**
1. 업종별 평균 권리금 조사 (프랜차이즈 본사 자료)
2. 상권 등급별 보정 계수
3. 임대료 대비 권리금 비율 모델

**추정 모델:**
```
권리금 추정 = 업종 기본값 × 상권 계수 × 임대료 계수
```

| 업종 | 기본 권리금 | 상권별 범위 |
|------|------------|------------|
| 카페 | 5,000만원 | 2,000~15,000만원 |
| 한식 | 3,000만원 | 1,000~8,000만원 |
| 편의점 | 1,000만원 | 500~3,000만원 |
| 미용실 | 4,000만원 | 1,500~10,000만원 |

**예상 효과:**
- 총 창업 비용 추정 가능
- 손익분기점 계산 정확도 향상

---

### 3.3 업종 분류 개선

**현재 상태:**
- 소상공인 데이터의 업종 분류 사용
- "카페"가 "음식점"으로 등록된 경우 오차

**목표:**
- 상호명 기반 업종 재분류

**접근 방법:**
1. 상호명 키워드 분석
2. 업종 재분류 모델 (규칙 기반 + ML)
3. 수동 검증 샘플링

**규칙 예시:**
```typescript
const reclassifyRules = {
  cafe: ['카페', '커피', 'coffee', 'cafe', '스타벅스', '이디야'],
  bakery: ['빵', '베이커리', '제과', 'bakery', '파리바게뜨'],
  bar: ['술집', '호프', '포차', '이자카야', 'bar', 'pub'],
}
```

**예상 효과:**
- 경쟁 밀도 정확도: 80% → 88%

---

## 4. Phase 3: 장기 개선 (6개월+)

### 4.1 실시간 유동인구 연동

**현재 상태:**
- 대중교통 승하차 기반 추정치
- 보행자, 차량 유입 미반영

**목표:**
- 실시간 유동인구 데이터 연동

**데이터 소스 후보:**
| 소스 | 비용 | 정확도 | 갱신 |
|------|------|--------|------|
| SKT 지오비전 | 월 수백만원 | 매우 높음 | 실시간 |
| KT 빅데이터 | 월 수백만원 | 매우 높음 | 실시간 |
| 나이스지니 | 월 수십만원 | 높음 | 일간 |
| 서울 생활인구 | 무료 | 보통 | 시간별 |

**우선순위:**
1. 서울시 생활인구 API (무료) 먼저 적용
2. 유료 데이터는 수익 모델 확보 후 검토

**예상 효과:**
- 유동인구 정확도: 85% → 95%

---

### 4.2 카드 매출 데이터 연동

**현재 상태:**
- 매출 데이터 없음
- 상권 활성도 간접 추정만 가능

**목표:**
- 업종별/지역별 평균 매출 참고 데이터

**데이터 소스 후보:**
| 소스 | 접근성 | 데이터 |
|------|--------|--------|
| BC카드 | 제휴 필요 | 업종별 매출 |
| 신한카드 | 제휴 필요 | 업종별 매출 |
| 서울시 상권분석 | 공공 | 분기별 평균 |
| 소상공인마당 | 공공 | 업종별 통계 |

**우선순위:**
1. 서울시 상권분석 데이터 (무료) 먼저 적용
2. 카드사 제휴는 B2B 진출 시 검토

---

### 4.3 리뷰/평점 데이터 통합

**현재 상태:**
- 경쟁 점포 평판 정보 없음

**목표:**
- 주변 경쟁 점포의 평균 평점, 리뷰 수 제공

**데이터 소스:**
- 네이버 플레이스
- 카카오맵
- 구글 플레이스

**활용 방안:**
- 상권 활성화 지표로 활용
- 경쟁 강도 세분화 (평점 높은 점포 수)

---

## 5. 기술 부채 해소

### 5.1 데이터 파이프라인 구축

**현재 상태:**
- 수동 데이터 업로드
- 갱신 주기 불규칙

**목표:**
- 자동화된 ETL 파이프라인

**아키텍처:**
```
데이터 소스 → 수집 스크립트 → 변환 → Supabase → 캐시 갱신
              (GitHub Actions)
```

---

### 5.2 데이터 품질 모니터링

**현재 상태:**
- 데이터 품질 검증 없음

**목표:**
- 자동 품질 체크 및 알림

**검증 항목:**
- 데이터 완전성 (누락 필드)
- 데이터 일관성 (이상치 탐지)
- 데이터 최신성 (갱신일 체크)

---

### 5.3 A/B 테스트 인프라

**현재 상태:**
- 알고리즘 변경 시 검증 어려움

**목표:**
- 리스크 점수 알고리즘 A/B 테스트

**방안:**
- 버전별 점수 계산 로직 분리
- 사용자 피드백 수집
- 정확도 비교 분석

---

## 6. 우선순위 정리

### 6.1 ROI 기준 우선순위

| 순위 | 작업 | 효과 | 비용 | ROI |
|------|------|------|------|-----|
| 1 | 경기 지하철 추가 | 높음 | 낮음 | ⭐⭐⭐⭐⭐ |
| 2 | 인천 지하철 승하차 | 중간 | 낮음 | ⭐⭐⭐⭐ |
| 3 | 업종 분류 개선 | 중간 | 중간 | ⭐⭐⭐ |
| 4 | 임대료 정밀화 | 높음 | 높음 | ⭐⭐⭐ |
| 5 | 권리금 추정 | 높음 | 높음 | ⭐⭐⭐ |
| 6 | 실시간 유동인구 | 매우 높음 | 매우 높음 | ⭐⭐ |

### 6.2 실행 타임라인

```
2025년 1월: Phase 1 (경기/인천 지하철)
2025년 2월: Phase 2 시작 (임대료 크롤링 설계)
2025년 3월: Phase 2 (임대료 + 업종 분류)
2025년 4~6월: Phase 3 (실시간 데이터 검토)
```

---

## 7. 성공 지표 (KPI)

### 7.1 정확도 지표

| 지표 | 현재 | 3개월 목표 | 6개월 목표 |
|------|------|-----------|-----------|
| 종합 신뢰도 (서울) | 71% | 80% | 85% |
| 종합 신뢰도 (경기) | 65% | 75% | 82% |
| 임대료 정확도 | 40% | 55% | 70% |

### 7.2 사용자 지표

| 지표 | 현재 | 목표 |
|------|------|------|
| "정확했다" 피드백 | 측정 안함 | 70%+ |
| 현장 검증 일치율 | 측정 안함 | 75%+ |
| AI 분석 신뢰도 | 측정 안함 | 80%+ |

---

## 변경 이력

| 날짜 | 버전 | 변경 내용 |
|------|------|----------|
| 2025-01-04 | v2.1 | 현재 코드 기준 최신화, 우선순위 재정렬 |
